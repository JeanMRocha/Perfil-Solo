# Handoff - 2026-02-21

## Status fechado hoje
- Gamificacao fase 1 ativa com:
  - streak, XP, nivel e missoes diarias.
- Regras de credito por evento real implementadas:
  - `signup`: +10 (limite 1)
  - `email_confirmation`: +20 (limite 1)
  - `profile_address`: +10 (limite 1)
  - `property_created`: +10 (limite 5)
  - `talhao_created`: +2 (limite 100)
  - `ad_reward`: +5 (limite diario 3, configuravel)
- Tela de regras do superusuario ampliada:
  - editar creditos/limites/ativacao por regra;
  - tabela de desempenho por usuario.
- 2 etapas atualizado:
  - padrao desativado;
  - so pode ativar apos confirmacao de identidade;
  - quando desativado, login segue direto sem codigo.

## Build/validacao
- Build executado com sucesso apos alteracoes:
  - `npm run build`

## Arquivos-chave alterados
- `src/services/creditsService.ts`
- `src/services/identityVerificationService.ts`
- `src/services/propertyMapService.ts`
- `src/services/usersRegistryService.ts`
- `src/views/Auth/Auth.tsx`
- `src/views/Auth/Register.tsx`
- `src/components/ProtectedPath.tsx`
- `src/views/Super/UserManagement.tsx`
- `src/views/Super/UserManagementTabs/RulesTab.tsx`
- `src/views/User/TwoFactorSecurityCard.tsx`
- `src/views/User/UserCenter.tsx`
- `src/views/User/Profile.tsx`

## Retomada amanha (checklist curto)
1. Validar fluxo 2 etapas (desativado -> confirmar identidade -> ativar -> testar login -> desativar).
2. Conferir limites de recompensa com dados locais (especialmente propriedade/talhao).
3. Ajustar valores finais das regras no painel de superusuario.
4. Iniciar planejamento do modulo `Culturas` conectado ao motor de eventos.
